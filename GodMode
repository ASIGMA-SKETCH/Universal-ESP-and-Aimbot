local Players = game:GetService("Players")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")

-- Function to prevent damage
local function PreventDamage()
    Humanoid.Health = Humanoid.MaxHealth

    -- Ensure health stays maxed out
    Humanoid:GetPropertyChangedSignal("Health"):Connect(function()
        if Humanoid.Health < Humanoid.MaxHealth then
            Humanoid.Health = Humanoid.MaxHealth
        end
    end)
end

-- Apply god mode when character loads
local function OnCharacterAdded(newCharacter)
    Character = newCharacter
    Humanoid = Character:WaitForChild("Humanoid")
    PreventDamage()
end

-- Activate god mode on current character
PreventDamage()

-- Reapply god mode when character respawns
LocalPlayer.CharacterAdded:Connect(OnCharacterAdded)
